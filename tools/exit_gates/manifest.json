{
    "version": 1,
    "gates": [
        {
            "name": "redis_snapshots_basic",
            "module": "tools.exit_gates.redis_snapshots_basic",
            "inputs": {
                "config_path": "config.json",
                "symbol": "XAU/USD",
                "tf_s": 300,
                "require_snap": true,
                "require_status": true,
                "ttl_min_s": 1,
                "connect_timeout_ms": 200,
                "socket_timeout_ms": 200
            }
        },
        {
            "name": "redis_snapshot_schema",
            "module": "tools.exit_gates.gates.gate_redis_snapshot_schema",
            "inputs": {
                "config_path": "config.json",
                "symbol": "XAU/USD",
                "tf_s": 300,
                "ttl_min_s": 1,
                "allow_empty_keys": false,
                "allow_empty_tail": false,
                "max_status_bytes": 16384
            }
        },
        {
            "name": "api_bars_meta",
            "module": "tools.exit_gates.gates.gate_api_bars_meta",
            "inputs": {
                "base_url": "http://127.0.0.1:8089",
                "symbol": "XAU/USD",
                "tf_s": 300,
                "prefer_redis": true,
                "limit": 20000
            }
        },
        {
            "name": "api_updates_contract",
            "module": "tools.exit_gates.gates.gate_api_updates_contract",
            "inputs": {
                "base_url": "http://127.0.0.1:8089",
                "symbol": "XAU/USD",
                "tf_s": 300,
                "since_seq": 0,
                "max_events_expected": 500
            }
        },
        {
            "name": "api_updates_contract_m1",
            "module": "tools.exit_gates.gates.gate_api_updates_contract",
            "inputs": {
                "base_url": "http://127.0.0.1:8089",
                "symbol": "XAU/USD",
                "tf_s": 60,
                "since_seq": 0,
                "max_events_expected": 500
            }
        },
        {
            "name": "api_updates_cursor_sanity",
            "module": "tools.exit_gates.gates.gate_api_updates_cursor",
            "inputs": {
                "base_url": "http://127.0.0.1:8089",
                "symbol": "XAU/USD",
                "tf_s": 300,
                "since_seq": 0
            }
        },
        {
            "name": "payload_budgets",
            "module": "tools.exit_gates.gates.gate_payload_budgets",
            "inputs": {
                "base_url": "http://127.0.0.1:8089",
                "symbol": "XAU/USD",
                "tf_s": 300,
                "config_path": "config.json",
                "max_status_bytes": 16384,
                "max_updates_bytes": 256000,
                "max_bars_bytes": 1000000
            }
        },
        {
            "name": "ui_no_direct_redis",
            "module": "tools.exit_gates.gates.gate_ui_no_direct_redis",
            "inputs": {}
        },
        {
            "name": "ui_thin_handlers",
            "module": "tools.exit_gates.gates.gate_ui_thin_handlers",
            "inputs": {
                "file_path": "ui_chart_v3/server.py",
                "class_name": "Handler",
                "functions": [
                    "do_GET",
                    "_handle_api"
                ],
                "forbidden_prefixes": [
                    "_read_jsonl_",
                    "_redis_",
                    "_cache_"
                ]
            }
        },
        {
            "name": "ui_single_writer",
            "module": "tools.exit_gates.gates.gate_ui_single_writer",
            "inputs": {
                "file_path": "ui_chart_v3/server.py",
                "forbidden_modules": [
                    "runtime.ingest",
                    "runtime.store.ssot_jsonl",
                    "runtime.store.redis_snapshot"
                ]
            }
        },
        {
            "name": "ingest_no_direct_writers",
            "module": "tools.exit_gates.gates.gate_ingest_no_direct_writers",
            "inputs": {
                "root_dir": "runtime/ingest",
                "forbidden_modules": [
                    "runtime.store.ssot_jsonl",
                    "runtime.store.redis_snapshot"
                ]
            }
        },
        {
            "name": "preview_not_on_disk",
            "module": "tools.exit_gates.gates.gate_preview_not_on_disk",
            "inputs": {
                "config_path": "config.json",
                "tail_lines": 200
            }
        },
        {
            "name": "no_preview_in_final_redis",
            "module": "tools.exit_gates.gates.gate_no_preview_in_final_redis",
            "inputs": {
                "config_path": "config.json",
                "symbol": "XAU/USD",
                "tf_s": 300,
                "max_events": 200
            }
        },
        {
            "name": "preview_plane",
            "module": "tools.exit_gates.gates.gate_preview_plane",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "ui_live_candle_plane",
            "module": "tools.exit_gates.gates.gate_ui_live_candle_plane",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "htf_available",
            "module": "tools.exit_gates.gates.gate_htf_available",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "config_singleton",
            "module": "tools.exit_gates.gates.gate_config_singleton",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "coldstart_multisymbol",
            "module": "tools.exit_gates.gates.gate_coldstart_multisymbol",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "calendar_break_wrap",
            "module": "tools.exit_gates.gates.gate_calendar_break_wrap",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "unexpected_gap_budget",
            "module": "tools.exit_gates.gates.gate_unexpected_gap_budget",
            "inputs": {
                "root": ".",
                "days": 14,
                "total_budget": 50000,
                "per_sym_budget": 5000
            }
        },
        {
            "name": "calendar_multi_break",
            "module": "tools.exit_gates.gates.gate_calendar_multi_break",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "live_recover_policy",
            "module": "tools.exit_gates.gates.gate_live_recover_policy",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "derived_partial",
            "module": "tools.exit_gates.gates.gate_derived_partial",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "tick_preview_calendar",
            "module": "tools.exit_gates.gates.gate_tick_preview_calendar",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "dependency_rule",
            "module": "tools.exit_gates.gates.gate_dependency_rule",
            "inputs": {
                "root": "."
            }
        },
        {
            "name": "no_bare_except",
            "module": "tools.exit_gates.gates.gate_no_bare_except",
            "inputs": {
                "root": ".",
                "max_violations": 85,
                "scan_dirs": [
                    "core",
                    "runtime",
                    "app",
                    "ui_chart_v3"
                ]
            }
        }
    ]
}